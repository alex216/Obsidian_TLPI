- （はじめに）
	- `fcntl()`
	- カーネル内部データ
	- オフセットを変更しないIO,複数バッファを一度に処理するIO,ノンブロッキングIO,large size file等
	- テンポラリファイルはランダムかつ一意なファイル名を生成する
- 5.1 アトミック動作と競合状態 ^d8e3d3
	- システムコールの動作を議論する上でアトミックという概念は避けて通れない
	- 処理内容によってアトミックが必須の場合がある
		-  アトミックで競合状態を防げる
		- 競合状態(race condition, race hazard)とは
			- 同じリソースを共有
			- 操作する２プロセス（またはスレッド）がCPU上で任意の順序で実行された結果として発生する問題
	- 競合状態が発生するファイルIOの２例を挙げる
	- その他の競合状態について
		- [[22章 シグナル：応用#^743c8a|22.9 シグナルマスクとシグナル待ち合わせ：sigsuspend()]]
		- [[24章 プロセス作成#^592f2f|24.4 fork()後の競合状態]]
	- 1.ファイルの排他的作成
		- 1.`open()`を一度行ってファイルの存在をチェック、
			- この間に別プロセスが同じファイルを作成してしまう可能性がある
		- 2.存在しなければ再度`open()`を行いファイル作成
	- 2.同一ファイルへの複数プロセスの書き込み
		- 1.`lseek()`
		- 2.`write()`
		- 二つめのプロセスが最後の部分の内容を上書きしてしまう
	- ファイルオフセット移動と書き込み処理をアトミックに実行したい
		- ->`O_APPEND`
		- NFSなど一部ファイルシステムは`O_APPEND`に対応していない
			- カーネル内でファイル破壊を防止しつつ非アトミックな手順へ変換している
	

- 5.3 オープンファイルステータスフラグ ^c47b87

- 5.10 large fileのIO ^e60d69