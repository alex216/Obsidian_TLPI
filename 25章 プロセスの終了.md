- 25.1 \_exit()とexit() ^320bbc
	- プロセスの終了には異常と正常がある
		- 異常はシグナル受信による
		- 正常は`_exit()システムコール`による
	- `void _exit(int status)`
		- 終了ステータスはintだが下位8bitのみ処理
		- `_exit()`は常に成功し、リターンすることはない
		- 0~255が利用できるが128以上はシェルスクリプトを混乱させる
			- シェル変数`$?`はシグナル番号に128を加えた値を利用するから
	- `exit()`->`_exit()`の順で実行する
	- `exit()`の処理内容
		- `exit()ハンドラ`(`atexit(),on_exit()`により登録した関数)
			- 登録とは逆順に実行する([[#^895e5b|25.3]])
		- stdioストリームバッファのフラッシュ
		- `_exit()システムコール実行`
	- `_exit()`はUNIX固有だが`exit()`は標準Cライブラリとして定義
	- main()からリターンしてもプロセスは終了する
		- exit()実行と等価でないのは終了処理中にmain()のローカル変数へアクセスする場合
			- main()のreturn動作は不定になる
				- main()のローカル変数を`setvbuf(),setbuf()`に指定した場合([[13章 IOのバッファリング#^85ebb3|13.2]])
	
- 25.3 exitハンドラ ^895e5b